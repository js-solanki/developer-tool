<div class="p-4 space-y-4 bg-gray-100 dark:bg-gray-900 text-white ">
  <h2 class="text-xl font-bold">API Request Composer</h2>

  <div class="flex flex-col gap-2">
    <label class="font-medium">HTTP Method</label>
    <select [(ngModel)]="method" class="p-2 border rounded">
      <option *ngFor="let m of methods" [value]="m">{{ m }}</option>
    </select>

    <label class="font-medium mt-4">URL</label>
    <input [(ngModel)]="url" type="text" placeholder="https://api.example.com" class="p-2 border rounded" />

    <label class="font-medium mt-4">Headers (JSON)</label>
    <textarea [(ngModel)]="headersText" rows="5" class="p-2 border rounded font-mono"></textarea>

    <label class="font-medium mt-4">Body (JSON)</label>
    <textarea [(ngModel)]="bodyText" [disabled]="method === 'GET' || method === 'DELETE'" rows="5" class="p-2 border rounded font-mono"></textarea>

    <button (click)="sendRequest()" [disabled]="isLoading" class="px-4 py-2 mt-4 text-white bg-blue-600 rounded hover:bg-blue-700">
      {{ isLoading ? 'Sending...' : 'Send Request' }}
    </button>

    <div *ngIf="error" class="p-2 text-red-600 bg-red-100 rounded">{{ error }}</div>

    <div *ngIf="response" class="dark:bg-gray-900 mt-4">
      <label class="font-medium">Response:</label>
      <pre class="p-2 mt-2 overflow-auto bg-gray-100 rounded max-h-96 text-sm">{{ response }}</pre>
      <button (click)="copyResponse()" class="px-3 py-1 mt-2 text-sm  bg-gray-700 rounded hover:bg-gray-800">Copy Response</button>
    </div>
  </div>
</div>
